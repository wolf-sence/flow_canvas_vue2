<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id ="app">
        <canvas width="1800" height="500" id="canvas" class="canvas_wrapper"></canvas>
    </div>
    <!-- <script>
        console.log('enter index')
    </script> -->
    <script async type="module">
        import FlowUnion from '../Union/Union.js';

        let canvas = document.getElementById('canvas');

        let flow = new FlowUnion(canvas);

        let root1 = {
            color: 'black',
            type: 'step',
            id: '1',
            bounds: {
                width: 160,
                height: 40,
                x: 120,
                y: 120,
            },
            output: [
                {
                    name: "失败",
                    paramName: "failReturn",
                    criteria: "==",
                    value: "0",
                    color: "#f12626",
                    description: "失败锚点"
                },
                // {
                //     name: "成功",
                //     paramName: "sucessReturn",
                //     criteria: "==",
                //     value: "1",
                //     color: "#21c562",
                //     description: "成功出口锚点"
                // },
            ]
        }

        let root2 = {
            color: 'blue',
            type: 'step',
            id: '2',
            bounds: {
                width: 160,
                height: 40,
                x: 400,
                y: 200,
            },
            output: [
                {
                    name: "失败",
                    paramName: "failReturn",
                    criteria: "==",
                    value: "0",
                    color: "#f12626",
                    description: "失败锚点"
                },
                {
                    name: "成功",
                    paramName: "sucessReturn",
                    criteria: "==",
                    value: "1",
                    color: "#21c562",
                    description: "成功出口锚点"
                },
            ]
        }
        let root3 = {
            color: 'gray',
            type: 'step',
            id: '3',
            bounds: {
                width: 160,
                height: 40,
                x: 320,
                y: 360,
            },
            output: [
                {
                    name: "失败",
                    paramName: "failReturn",
                    criteria: "==",
                    value: "0",
                    color: "#f12626",
                    description: "失败锚点"
                },
                {
                    name: "成功",
                    paramName: "sucessReturn",
                    criteria: "==",
                    value: "1",
                    color: "#21c562",
                    description: "成功出口锚点"
                },
            ]
        }

        let arr = [root1, root2, root3];
        window.flow = flow.uae;
        flow.loopNodeList(arr);

        flow.uae.$on('contextmenu', e => {
            console.log('-------右键菜单----');
        })

    </script>
</body>
<style>
    .canvas_wrapper{
        border: 1px solid black;
    }
</style>
</html>